"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[430],{16058:function(e,n,r){r.d(n,{Z:function(){return s}});var i=r(2867),t=r(54681),l=r(70663),o=r(5918),a=r(57450),s=function(e){var n=e.confirmMessage,r=e.children,s=(0,l.$G)().t,u=(0,t.useState)(!1),c=(0,i.Z)(u,2),d=c[0],f=c[1],p=function(e){e.preventDefault(),e.stopPropagation(),f(!1)},h=t.cloneElement(r,{onClick:function(e){e.preventDefault(),e.stopPropagation(),f(!0)}});return(0,a.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[h,(0,a.jsx)(o.Z,{open:d,content:n,onCancel:p,onConfirm:function(n){p(n),e.action()},cancelButton:s("admin.cancel"),closeOnDocumentClick:!1,closeOnDimmerClick:!1})]})}},52788:function(e,n,r){r.d(n,{Z:function(){return l}});r(54681);var i=r(92042),t=r(57450);var l=function(e){var n=e.disabled,r=e.onClick;return(0,t.jsx)(i.Z,{"aria-label":"delete",className:"delete",circular:!0,icon:"trash",disabled:n,onClick:r})}},55430:function(e,n,r){r.r(n),r.d(n,{default:function(){return S}});var i=r(56666),t=r(33028),l=r(2867),o=r(71171),a=r(80688),s=r(43157),u=r(26637),c=r(42875),d=r(54681),f=r(70663),p=r(778),h=r(47016),Z=r(24202),v=r(63851),m=r(8450),x=r(92042),g=r(55152),b=r(37893),C=r(19913),j=r(52987),P=r(29653),w=r(64449),y=r(74280),G=r(31010),R=r(35925),k=r(57450);var E,_,N=function(e){var n=e.profiles,r=e.onRowClick,i=e.onFiltersUpdate,t=e.loading,l=e.withFilters,o=e.filters,a=e.actions,s=function(e,n){i(n)},u=(0,f.$G)().t,c=(0,y.Z)().lang,p=a?Array.isArray(a)?a:[a]:[];return(0,k.jsxs)(G.Z,{selectable:!0,striped:!0,children:[(0,k.jsxs)(G.Z.Header,{children:[(0,k.jsxs)(G.Z.Row,{children:[(0,k.jsx)(G.Z.HeaderCell,{width:4,children:u("admin.label")}),(0,k.jsx)(G.Z.HeaderCell,{width:4,children:u("admin.id")}),(0,k.jsx)(G.Z.HeaderCell,{width:1})]}),l&&(0,k.jsxs)(G.Z.Row,{className:"filters",children:[(0,k.jsx)(G.Z.HeaderCell,{children:(0,k.jsx)(R.Z,{size:"small",fluid:!0,placeholder:u("admin.label")+"...",name:"label","aria-label":"label",value:o.label||"",onChange:s})}),(0,k.jsx)(G.Z.HeaderCell,{children:(0,k.jsx)(R.Z,{size:"small",fluid:!0,placeholder:u("admin.id")+"...",name:"id","aria-label":"id",value:o.id||"",onChange:s})}),(0,k.jsx)(G.Z.HeaderCell,{})]})]}),(0,k.jsx)(G.Z.Body,{children:t?(0,k.jsx)(G.Z.Row,{children:(0,k.jsx)(G.Z.Cell,{colSpan:6,children:(0,k.jsx)(w.Z,{})})}):(null!==n&&void 0!==n?n:[]).map((function(e){var n=(0,P.a0)(e.label,c);return(0,k.jsxs)(G.Z.Row,{onClick:function(){return r(e)},children:[(0,k.jsx)(G.Z.Cell,{children:n}),(0,k.jsx)(G.Z.Cell,{children:e.id}),(0,k.jsx)(G.Z.Cell,{textAlign:"right",width:1,className:"actions",children:p.map((function(n){return d.cloneElement(n,{profile:e})}))})]},e.id)}))})]})},A=r(34795),I=r(77162),F=r.n(I),V=r(16058),$=r(52788),z=(0,r(175).gql)(E||(E=(0,o.Z)(["\n    mutation DELETE_VERSION_PROFILE($id: String!) {\n        deleteVersionProfile(id: $id) {\n            id\n        }\n    }\n"]))),D=function(e){var n=e.profile,r=(0,f.$G)().t,i=(0,u.Z)(),t=(0,y.Z)().lang,o=(0,a.useMutation)(z,{update:function(e,n){var r=n.data.deleteVersionProfile;(0,C.k9)(e,r)}}),s=(0,l.Z)(o,1)[0],c=function(){var e=(0,A.Z)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s({variables:{id:n.id}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=(0,P.a0)(n.label,t);return i.permissions[j.Au.admin_delete_version_profile]?(0,k.jsx)(V.Z,{action:c,confirmMessage:r("version_profiles.confirm_delete",{profileLabel:d}),children:(0,k.jsx)($.Z,{disabled:!1})}):null},O=D,T=(0,b.ZP)(v.Z)(_||(_=(0,o.Z)(["\n    display: flex;\n    gap: 0.5rem;\n"])));var S=function(){var e,n,r=(0,f.$G)().t,o=(0,d.useState)({}),v=(0,l.Z)(o,2),b=v[0],P=v[1],w=(0,u.Z)(),y=(0,h.k6)(),G=(0,a.useQuery)(c.o,{variables:{filters:(0,t.Z)({},(0,C.Rw)(b,["label","id"]))}}),R=G.loading,E=G.error,_=G.data;return E?(0,k.jsx)(s.Z,{message:E.message}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(m.Z.Column,{textAlign:"left",floated:"left",width:8,verticalAlign:"middle",children:(0,k.jsxs)(T,{size:"large",children:[(0,k.jsx)(p.C3w,{size:30}),r("version_profiles.title")]})}),w.permissions[j.Au.admin_create_version_profile]&&(0,k.jsx)(m.Z.Column,{floated:"right",width:6,textAlign:"right",verticalAlign:"middle",children:(0,k.jsxs)(x.Z,{primary:!0,icon:!0,labelPosition:"left",size:"medium",as:Z.rU,to:"/version_profiles/edit/",children:[(0,k.jsx)(g.Z,{name:"plus"}),r("version_profiles.new")]})})]}),E?(0,k.jsxs)("p",{children:["Error: ",E.message]}):(0,k.jsx)(N,{loading:R,onRowClick:function(e){return y.push("/version_profiles/edit/"+e.id)},profiles:null!==(e=null===_||void 0===_||null===(n=_.versionProfiles)||void 0===n?void 0:n.list)&&void 0!==e?e:[],actions:(0,k.jsx)(O,{},"delete"),filters:b,onFiltersUpdate:function(e){P((0,t.Z)((0,t.Z)({},b),{},(0,i.Z)({},e.name,e.value)))},withFilters:!0})]})}},42875:function(e,n,r){r.d(n,{o:function(){return l}});var i,t=r(71171),l=(0,r(175).gql)(i||(i=(0,t.Z)(["\n    query GET_VERSION_PROFILES($filters: VersionProfilesFiltersInput, $sort: SortVersionProfilesInput) {\n        versionProfiles(filters: $filters, sort: $sort) {\n            list {\n                id\n                label\n            }\n        }\n    }\n"])))},19913:function(e,n,r){r.d(n,{AX:function(){return i.AX},CE:function(){return i.CE},FQ:function(){return i.FQ},GV:function(){return i.GV},Ku:function(){return i.Ku},NE:function(){return i.NE},PT:function(){return i.PT},Rw:function(){return i.Rw},TB:function(){return i.TB},aW:function(){return i.aW},ci:function(){return i.ci},dX:function(){return i.dX},ei:function(){return i.ei},k9:function(){return i.k9},nV:function(){return i.nV},u_:function(){return i.u_},xN:function(){return i.xN},zQ:function(){return i.zQ}});var i=r(71446)},35925:function(e,n,r){var i=r(7896),t=r(81665),l=r(64223),o=r(48839),a=r(37200),s=r(47884),u=r(62132),c=r(98140),d=r(81856),f=r(54681),p=r(84215),h=r(83331),Z=r(91843),v=r(82923),m=r(58429),x=r(37886),g=r(92042),b=r(55152),C=r(53259),j=function(e){function n(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return(r=e.call.apply(e,[this].concat(l))||this).inputRef=(0,f.createRef)(),r.computeIcon=function(){var e=r.props,n=e.loading,i=e.icon;return(0,u.Z)(i)?n?"spinner":void 0:i},r.computeTabIndex=function(){var e=r.props,n=e.disabled,i=e.tabIndex;return(0,u.Z)(i)?n?-1:void 0:i},r.focus=function(){return r.inputRef.current.focus()},r.select=function(){return r.inputRef.current.select()},r.handleChange=function(e){var n=(0,s.Z)(e,"target.value");(0,a.Z)(r.props,"onChange",e,(0,i.Z)({},r.props,{value:n}))},r.handleChildOverrides=function(e,n){return(0,i.Z)({},n,e.props,{ref:function(n){(0,c.n)(e.ref,n),r.inputRef.current=n}})},r.partitionProps=function(){var e=r.props,t=e.disabled,l=e.type,o=r.computeTabIndex(),a=(0,p.Z)(n,r.props),s=(0,h.vR)(a),u=s[0],c=s[1];return[(0,i.Z)({},u,{disabled:t,type:l,tabIndex:o,onChange:r.handleChange,ref:r.inputRef}),c]},r}return(0,t.Z)(n,e),n.prototype.render=function(){var e=this,r=this.props,t=r.action,a=r.actionPosition,s=r.children,u=r.className,c=r.disabled,p=r.error,h=r.fluid,j=r.focus,P=r.icon,w=r.iconPosition,y=r.input,G=r.inverted,R=r.label,k=r.labelPosition,E=r.loading,_=r.size,N=r.transparent,A=r.type,I=(0,d.Z)("ui",_,(0,Z.lG)(c,"disabled"),(0,Z.lG)(p,"error"),(0,Z.lG)(h,"fluid"),(0,Z.lG)(j,"focus"),(0,Z.lG)(G,"inverted"),(0,Z.lG)(E,"loading"),(0,Z.lG)(N,"transparent"),(0,Z.cD)(a,"action")||(0,Z.lG)(t,"action"),(0,Z.cD)(w,"icon")||(0,Z.lG)(P||E,"icon"),(0,Z.cD)(k,"labeled")||(0,Z.lG)(R,"labeled"),"input",u),F=(0,v.Z)(n,this.props),V=this.partitionProps(),$=V[0],z=V[1];if(!m.kK(s)){var D=(0,o.Z)(f.Children.toArray(s),(function(n){return"input"!==n.type?n:(0,f.cloneElement)(n,e.handleChildOverrides(n,$))}));return f.createElement(F,(0,i.Z)({},z,{className:I}),D)}var O=g.Z.create(t,{autoGenerateKey:!1}),T=C.Z.create(R,{defaultProps:{className:(0,d.Z)("label",(0,l.Z)(k,"corner")&&k)},autoGenerateKey:!1});return f.createElement(F,(0,i.Z)({},z,{className:I}),"left"===a&&O,"right"!==k&&T,(0,x.MO)(y||A,{defaultProps:$,autoGenerateKey:!1}),b.Z.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==a&&O,"right"===k&&T)},n}(f.Component);j.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],j.propTypes={},j.defaultProps={type:"text"},j.create=(0,x.u5)(j,(function(e){return{type:e}})),n.Z=j}}]);
//# sourceMappingURL=430.2b87f2e6.chunk.js.map