(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[140,378],{1678:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Fe}});var i=t(2867),r=t(26637),s=t(54681),a=t(70663),l=t(47016),o=t(81592),u=t(63851),c=t(55152),d=t(52987),h=t(90930),p=t(57450);var f,m=function(){var e={libraries:[d.Au.admin_access_libraries,d.Au.admin_create_library,d.Au.admin_delete_library,d.Au.admin_edit_library],attributes:[d.Au.admin_access_attributes,d.Au.admin_create_attribute,d.Au.admin_delete_attribute,d.Au.admin_edit_attribute],trees:[d.Au.admin_access_trees,d.Au.admin_create_tree,d.Au.admin_delete_tree,d.Au.admin_edit_tree],applications:[d.Au.admin_access_applications,d.Au.admin_create_application,d.Au.admin_delete_application,d.Au.admin_edit_application],version_profiles:[d.Au.admin_access_version_profiles,d.Au.admin_create_version_profile,d.Au.admin_delete_version_profile,d.Au.admin_edit_version_profile],permissions:[d.Au.admin_access_permissions,d.Au.admin_edit_permission],preferences:[d.Au.admin_manage_global_preferences],tasks:[d.Au.admin_access_tasks,d.Au.admin_cancel_task,d.Au.admin_delete_task],api_keys:[d.Au.admin_access_api_keys,d.Au.admin_edit_api_key,d.Au.admin_create_api_key,d.Au.admin_delete_api_key]};return(0,p.jsx)(h.Z,{type:d.r3.admin,actions:e})},x=t(33028),v=t(80688),g=t(43157),y=t(71171),_=t(175),Z=t(50500),j=(0,_.gql)(f||(f=(0,y.Z)(["\n    ","\n    query GET_API_KEYS($filters: ApiKeysFiltersInput, $sort: SortApiKeysInput) {\n        apiKeys(filters: $filters, sort: $sort) {\n            list {\n                id\n                label\n                key\n                expiresAt\n                createdBy {\n                    ...RecordIdentity\n                }\n                createdAt\n                modifiedBy {\n                    ...RecordIdentity\n                }\n                modifiedAt\n                user {\n                    ...RecordIdentity\n                }\n            }\n        }\n    }\n"])),Z.T),b=t(92042),$=t(19913),k=t(56666),w=t(64449),A=t(19046),S=t(31010),C=t(35925),D=t(887);var I,M,K=function(e){var n=e.apiKeys,t=e.filters,i=e.loading,r=e.onFiltersUpdate,l=e.onRowClick,o=e.actions,u=(0,a.$G)().t;return(0,p.jsxs)(S.Z,{selectable:!0,striped:!0,children:[(0,p.jsxs)(S.Z.Header,{children:[(0,p.jsxs)(S.Z.Row,{children:[(0,p.jsx)(S.Z.HeaderCell,{width:4,children:u("admin.label")}),(0,p.jsx)(S.Z.HeaderCell,{width:4,children:u("api_keys.expiresAt")}),(0,p.jsx)(S.Z.HeaderCell,{width:4,children:u("api_keys.user")}),(0,p.jsx)(S.Z.HeaderCell,{width:1})]}),(0,p.jsxs)(S.Z.Row,{className:"filters",children:[(0,p.jsx)(S.Z.HeaderCell,{children:(0,p.jsx)(C.Z,{size:"small",fluid:!0,placeholder:u("admin.label")+"...",name:"label","aria-label":"label",value:t.label||"",onChange:function(e,n){r((0,x.Z)((0,x.Z)({},t),{},(0,k.Z)({},n.name,n.value)))}})}),(0,p.jsx)(S.Z.HeaderCell,{}),(0,p.jsx)(S.Z.HeaderCell,{}),(0,p.jsx)(S.Z.HeaderCell,{})]})]}),(0,p.jsx)(S.Z.Body,{children:i?(0,p.jsx)(S.Z.Row,{children:(0,p.jsx)(S.Z.Cell,{colSpan:4,children:(0,p.jsx)(w.Z,{})})}):(null!==n&&void 0!==n?n:[]).map((function(e){var n=null!==e.expiresAt&&e.expiresAt<Date.now()/1e3;return(0,p.jsxs)(S.Z.Row,{onClick:function(){l(e)},children:[(0,p.jsx)(S.Z.Cell,{children:e.label}),(0,p.jsxs)(S.Z.Cell,{children:[n&&(0,p.jsx)(D.Z,{content:u("api_keys.expiration_warning"),trigger:(0,p.jsx)(c.Z,{name:"warning sign",color:"yellow"}),position:"top center"}),e.expiresAt?new Date(1e3*e.expiresAt).toLocaleString():u("api_keys.never")]}),(0,p.jsx)(S.Z.Cell,{children:(0,p.jsx)(A.Z,{record:e.user.whoAmI})}),(0,p.jsx)(S.Z.Cell,{textAlign:"right",width:1,className:"actions",children:o.map((function(n,t){return s.cloneElement(n,{key:t,apiKey:e})}))})]},e.id)}))})]})},H=t(34795),R=t(77162),O=t.n(R),E=t(16058),G=t(52788),P=(0,_.gql)(I||(I=(0,y.Z)(["\n    mutation DELETE_API_KEY($id: String!) {\n        deleteApiKey(id: $id) {\n            id\n        }\n    }\n"]))),N=function(e){var n=e.apiKey,t=(0,a.$G)().t,s=(0,r.Z)(),l=(0,v.useMutation)(P,{update:function(e,n){var t=n.data.deleteApiKey;(0,$.k9)(e,t)}}),o=(0,i.Z)(l,1)[0],u=function(){var e=(0,H.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o({variables:{id:n.id}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.permissions[d.Au.admin_delete_api_key]?(0,p.jsx)(E.Z,{action:u,confirmMessage:t("api_keys.confirm_delete",{keyLabel:n.label}),children:(0,p.jsx)(G.Z,{disabled:!1})}):null},T=N,F=t(67605),L=(0,_.gql)(M||(M=(0,y.Z)(["\n    ","\n    mutation SAVE_API_KEY($apiKey: ApiKeyInput!) {\n        saveApiKey(apiKey: $apiKey) {\n            id\n            label\n            key\n            expiresAt\n            createdBy {\n                ...RecordIdentity\n            }\n            createdAt\n            modifiedBy {\n                ...RecordIdentity\n            }\n            modifiedAt\n            user {\n                ...RecordIdentity\n            }\n        }\n    }\n"])),Z.T),z=t(85031),B=t(33495),Y=t(80687),q=t(37893),V=t(29653),U=t(43248),Q=t(45871),W=t(91492),J=t(5168),X=t(61247),ee=t(59740),ne=t(26275),te=t.n(ne),ie=t(80190),re=["onChange","label","value"];var se,ae,le,oe=function(e){var n=e.onChange,t=e.label,r=e.value,l=(0,ee.Z)(e,re),o=(0,a.$G)().t,u=(0,s.useRef)(),d=s.useState(!1),h=(0,i.Z)(d,2),f=h[0],m=h[1],v=s.useState(!1),g=(0,i.Z)(v,2),y=g[0],_=g[1],Z=te()(),j=[{text:o("api_keys.one_week"),value:Z.add(1,"week").unix()},{text:o("api_keys.one_month"),value:Z.add(1,"month").unix()},{text:o("api_keys.six_months"),value:Z.add(6,"months").unix()},{text:o("api_keys.one_year"),value:Z.add(1,"year").unix()}],$=[{text:o("api_keys.never"),value:he}].concat(j,[{text:o("api_keys.custom")+"...",value:pe}]),k=r&&Number(r)<Date.now()/1e3;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("label",{children:t}),(0,p.jsx)(Y.Z,{info:!0,visible:!0,children:(0,p.jsxs)("p",{children:[(0,p.jsx)(c.Z,{name:"info circle"}),r?o(k?"api_keys.expiration_reminder_expired":"api_keys.expiration_reminder",{date:new Date(1e3*Number(r)).toLocaleString(),interpolation:{escapeValue:!1}}):o("api_keys.expiration_reminder_never")]})}),f&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ie.R,{innerRef:u,children:(0,p.jsx)(J.Z.Dropdown,(0,x.Z)((0,x.Z)({},l),{},{onChange:function(e,t){t.value===pe?_(!0):(m(!1),_(!1),t.value===he&&(t.value=null),n(e,t))},options:$}))}),y&&(0,p.jsx)(J.Z.Input,{"data-testid":"custom-date-input",type:"date","aria-label":"expiresAt",title:"expiresAt",onChange:function(e,t){var i=te()(t.value).unix();n(e,(0,x.Z)((0,x.Z)({},t),{},{value:i}))},width:4,name:"expiresAt"})]}),!f&&(0,p.jsx)(b.Z,{onClick:function(){m(!0)},size:"small",basic:!0,children:o("api_keys.edit_expiration")})]})},ue=(0,q.ZP)(J.Z)(se||(se=(0,y.Z)(["\n    && {\n        position: unset;\n        height: 100%;\n    }\n"]))),ce=q.ZP.div(ae||(ae=(0,y.Z)(["\n    overflow-y: auto;\n    height: 100%;\n"]))),de=q.ZP.div(le||(le=(0,y.Z)(["\n    border-top: 1px solid #dddddd;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    padding: 1em;\n    text-align: right;\n    display: flex;\n    justify-content: flex-end;\n    align-items: flex-start;\n    gap: 0.5rem;\n"]))),he="__never__",pe="__custom__";var fe,me,xe=function(e){var n,t,i,r,s=e.onSubmit,l=e.apiKey,o=e.errors,u=e.readonly,d=e.loading,h=e.onClose,f=(0,a.$G)().t,m=!(null!==l&&void 0!==l&&l.id),x=X.Ry().shape({label:X.Z_().nullable().required(),expiresAt:X.Rx().nullable(),user:X.Ry().nullable().required()}),v={label:null!==(n=null===l||void 0===l?void 0:l.label)&&void 0!==n?n:null,expiresAt:null!==(t=null===l||void 0===l?void 0:l.expiresAt)&&void 0!==t?t:null,user:null!==(i=null===l||void 0===l||null===(r=l.user)||void 0===r?void 0:r.whoAmI)&&void 0!==i?i:null},g=function(){var e=(0,H.Z)(O().mark((function e(n){var t,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={id:null!==(t=null===l||void 0===l?void 0:l.id)&&void 0!==t?t:null,label:n.label,expiresAt:n.expiresAt,userId:n.user.id},e.next=3,s(i);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),y=function(){return h()};return(0,p.jsxs)(p.Fragment,{children:[(null===o||void 0===o?void 0:o.extensions.code)===V.ZB.PERMISSION_ERROR&&(0,p.jsx)(Y.Z,{negative:!0,children:(0,p.jsxs)(Y.Z.Header,{children:[(0,p.jsx)(c.Z,{name:"ban"})," ",o.message,(0,p.jsx)(c.Z,{"aria-label":"ban"})," ",o.message]})}),(0,p.jsx)(W.J9,{initialValues:v,onSubmit:g,validateOnChange:!0,validationSchema:x,children:function(e){var n,t,i=e.handleSubmit,r=e.handleBlur,s=e.setFieldValue,a=e.errors,l=e.values,h=e.touched,x=e.submitForm,v=o&&o.extensions.code===V.ZB.VALIDATION_ERROR?o.extensions.fields:{},g=function(){var e=(0,H.Z)(O().mark((function e(n,t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.name,t.value);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),_=function(){var e=(0,H.Z)(O().mark((function e(n,t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n,t);case 2:m||x();case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Z=function(e){m?r(e):x()},j=function(){var e=(0,H.Z)(O().mark((function e(n){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(null,{name:"user",value:n});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(e){return(0,$.zQ)(e,h,v||{},a)},w=function(e){"Enter"===e.key&&x()};return(0,p.jsxs)(ue,{onSubmit:function(){return i()},"aria-label":"infos-form",$isNewKey:m,children:[(0,p.jsx)(ce,{children:(0,p.jsxs)(J.Z.Group,{grouped:!0,children:[(0,p.jsx)(U.Z,{error:k("label"),children:(0,p.jsx)(J.Z.Input,{label:f("admin.label"),width:"4",name:"label","aria-label":"label",disabled:u,onChange:g,onBlur:Z,onKeyPress:w,value:null!==(n=l.label)&&void 0!==n?n:""})}),(0,p.jsx)(J.Z.Group,{grouped:!0,children:(0,p.jsx)(U.Z,{error:k("expiresAt"),children:(0,p.jsx)(oe,{value:l.expiresAt,required:!0,label:f("api_keys.expiresAt"),width:"6",name:"expiresAt","aria-label":"expiresAt",disabled:u,onChange:_,onBlur:Z,onKeyPress:w,placeholder:f("api_keys.select_expiration_date"),fluid:!0})})}),(0,p.jsx)(U.Z,{error:k("user"),children:(0,p.jsx)(Q.Z,{onChange:j,value:null!==(t=l.user)&&void 0!==t?t:null,label:f("api_keys.user"),libraries:["users"],required:!0})})]})}),(0,p.jsxs)(de,{children:[(0,p.jsxs)(b.Z,{className:"close-button",onClick:y,children:[(0,p.jsx)(c.Z,{name:"cancel"})," ",f("admin.close")]}),m&&(0,p.jsxs)(b.Z,{labelPosition:"left",icon:!0,type:"submit",primary:!0,disabled:u,loading:d,children:[(0,p.jsx)(c.Z,{name:"save"}),f("admin.submit")]})]})]})}})]})},ve=xe,ge=q.ZP.div(fe||(fe=(0,y.Z)(["\n    font-size: 1rem;\n    font-weight: normal;\n    color: #999;\n    display: flex;\n    gap: 0.5rem;\n"]))),ye=(0,q.ZP)(B.Z.Content)(me||(me=(0,y.Z)(["\n    height: 30rem;\n    overflow: auto;\n"])));var _e=function(e){var n=e.apiKey,t=e.onClose,r=e.readonly,l=function(){return t()},o=(0,a.$G)().t,u=(0,F.Z)().addMessage,d=(0,v.useMutation)(L),h=(0,i.Z)(d,2),f=h[0],m=h[1].loading,x=s.useState(n),g=(0,i.Z)(x,2),y=g[0],_=g[1],Z=!(null!==y&&void 0!==y&&y.id),j=function(){var e=(0,H.Z)(O().mark((function e(n){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({variables:{apiKey:n},update:function(e){Z&&e.evict({fieldName:"apiKeys"})}});case 2:t=e.sent,_(t.data.saveApiKey);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsxs)(B.Z,{size:"large",open:!0,onClose:l,centered:!0,closeIcon:!0,style:{maxHeight:"90vh"},children:[(0,p.jsxs)(B.Z.Header,{children:[Z?o("api_keys.new"):y.label,!Z&&(0,p.jsxs)(ge,{children:[(0,p.jsxs)("span",{children:[o("api_keys.creation_details",{date:new Date(1e3*y.createdAt).toLocaleString(),user:y.user.whoAmI.label,interpolation:{escapeValue:!1}}),","]}),(0,p.jsx)("span",{children:o("api_keys.modification_details",{date:new Date(1e3*y.modifiedAt).toLocaleString(),user:y.user.whoAmI.label,interpolation:{escapeValue:!1}})})]})]}),(0,p.jsxs)(ye,{children:[!Z&&y.key&&(0,p.jsxs)(Y.Z,{success:!0,icon:!0,children:[(0,p.jsx)(c.Z,{name:"checkmark",size:"big"}),(0,p.jsxs)(Y.Z.Content,{children:[(0,p.jsxs)(Y.Z.Header,{children:[o("api_keys.key_display",{key:y.key}),(0,p.jsx)(b.Z,{circular:!0,onClick:function(){navigator.clipboard.writeText(y.key),u({type:z.Q7.SUCCESS,content:o("api_keys.copy_success")})},icon:"copy",title:o("api_keys.copy_key"),style:{marginLeft:"1rem"}})]}),(0,p.jsx)(c.Z,{name:"warning sign"}),o("api_keys.key_display_warning")]})]}),(0,p.jsx)(ve,{apiKey:y,onSubmit:j,onClose:l,readonly:r,errors:null,loading:m})]})]})},Ze=_e;var je,be=function(){var e,n=(0,r.Z)(),t=(0,a.$G)().t,l=s.useState({}),o=(0,i.Z)(l,2),u=o[0],h=o[1],f=s.useState({apiKey:null,isEditing:!1}),m=(0,i.Z)(f,2),y=m[0],_=m[1],Z=(0,v.useQuery)(j,{variables:{filters:(0,x.Z)({},(0,$.Rw)(u,["label"]))}}),k=Z.loading,w=Z.error,A=Z.data;if(w)return(0,p.jsx)(g.Z,{message:w.message});var S=null!==(e=null===A||void 0===A?void 0:A.apiKeys.list)&&void 0!==e?e:[];return(0,p.jsxs)(p.Fragment,{children:[n.permissions[d.Au.admin_create_api_key]&&(0,p.jsxs)(b.Z,{primary:!0,icon:!0,labelPosition:"left",size:"medium",onClick:function(){_({apiKey:null,isEditing:!0})},children:[(0,p.jsx)(c.Z,{name:"plus"}),t("api_keys.new")]}),(0,p.jsx)(K,{apiKeys:S,filters:u,sort:null,loading:k,onFiltersUpdate:function(e){h(e)},onRowClick:function(e){_({apiKey:e,isEditing:!0})},actions:[(0,p.jsx)(T,{})]}),y.isEditing&&(0,p.jsx)(Ze,{apiKey:y.apiKey,onClose:function(){_({apiKey:null,isEditing:!1})}})]})},$e=t(27991),ke=t(42737),we=t.n(ke),Ae=we()(je||(je=(0,y.Z)(["\n    ","\n    mutation SAVE_GLOBAL_SETTINGS($settings: GlobalSettingsInput!) {\n        saveGlobalSettings(settings: $settings) {\n            name\n            icon {\n                id\n                ...RecordIdentity\n            }\n        }\n    }\n"])),Z.T),Se=t(36770);var Ce=function(e){var n,t=e.settings,r=e.onSubmit,l=(0,a.$G)().t,o=(0,s.useState)(t.name),u=(0,i.Z)(o,2),c=u[0],d=u[1],h=function(){var e=(0,H.Z)(O().mark((function e(n){var t,i;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target,i=t.value,e.abrupt("return",r((0,k.Z)({},t.name,i)));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){d(t.name)}),[t.name]),(0,p.jsxs)(J.Z,{children:[(0,p.jsx)(J.Z.Input,{type:"text",name:"name","aria-label":"name",value:c,label:l("general.customization.name"),onBlur:h,onKeyPress:function(e){"Enter"===e.key&&e.target.blur()},onChange:function(e){var n=e.target.value;d(n)}}),(0,p.jsx)(J.Z.Field,{children:(0,p.jsx)(Se.Z,{onChange:function(e){r({icon:e?{library:e.library.id,recordId:e.id}:null})},value:null===t||void 0===t||null===(n=t.icon)||void 0===n?void 0:n.whoAmI,label:l("general.customization.icon")})})]})},De=Ce;var Ie,Me=function(){var e=(0,v.useQuery)($e.F),n=e.loading,t=e.error,r=e.data,s=(0,v.useMutation)(Ae,{update:function(e,n){var t=n.data.saveGlobalSettings;e.writeQuery({query:$e.F,data:{globalSettings:t}})}}),a=(0,i.Z)(s,2),l=a[0],o=a[1],u=(o.loading,o.error),c=function(){var e=(0,H.Z)(O().mark((function e(n){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:{settings:n}});case 2:return t=e.sent,e.abrupt("return",t.data.saveGlobalSettings);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if(n)return(0,p.jsx)(w.Z,{});if(t)return(0,p.jsx)(g.Z,{message:t.message});var d=null===r||void 0===r?void 0:r.globalSettings;return(0,p.jsxs)(p.Fragment,{children:[u&&(0,p.jsx)(g.Z,{message:null===u||void 0===u?void 0:u.message}),(0,p.jsx)(De,{settings:d,onSubmit:c})]})},Ke=Me,He=we()(Ie||(Ie=(0,y.Z)(["\n    query GET_ALL_PLUGINS {\n        plugins {\n            name\n            description\n            version\n            author\n        }\n    }\n"]))),Re=function(e){var n=e.plugins,t=e.loading,i=(0,a.$G)().t;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(S.Z,{striped:!0,basic:"very",size:"small",compact:!0,children:[(0,p.jsx)(S.Z.Header,{children:(0,p.jsxs)(S.Z.Row,{children:[(0,p.jsx)(S.Z.HeaderCell,{width:4,children:i("plugins.label")}),(0,p.jsx)(S.Z.HeaderCell,{width:6,children:i("plugins.description")}),(0,p.jsx)(S.Z.HeaderCell,{width:2,children:i("plugins.version")}),(0,p.jsx)(S.Z.HeaderCell,{width:5,children:i("plugins.author")})]})}),(0,p.jsxs)(S.Z.Body,{children:[t&&(0,p.jsx)(S.Z.Row,{children:(0,p.jsx)(S.Z.Cell,{colSpan:6,children:(0,p.jsx)(w.Z,{})})}),n.length?n.map((function(e){return(0,p.jsxs)(S.Z.Row,{children:[(0,p.jsx)(S.Z.Cell,{children:e.name}),(0,p.jsx)(S.Z.Cell,{children:e.description}),(0,p.jsx)(S.Z.Cell,{children:e.version}),(0,p.jsx)(S.Z.Cell,{children:e.author})]},e.name)})):(0,p.jsx)(S.Z.Row,{textAlign:"center",disabled:!0,children:(0,p.jsx)(S.Z.Cell,{colSpan:6,children:i("plugins.no_plugins")})})]})]})})};Re.defaultProps={loading:!1,plugins:[]};var Oe,Ee=Re,Ge=function(){(0,a.$G)().t;var e,n=(0,v.useQuery)(He),t=n.loading,i=n.error,r=n.data;return(0,p.jsxs)(p.Fragment,{children:[i&&(0,p.jsx)(g.Z,{message:i.message}),!i&&(0,p.jsx)(Ee,{loading:t||!r,plugins:null!==(e=null===r||void 0===r?void 0:r.plugins)&&void 0!==e?e:[]})]})},Pe=we()(Oe||(Oe=(0,y.Z)(["\n    query GET_VERSION {\n        version\n    }\n"]))),Ne=t(85823);var Te=function(){var e=(0,v.useQuery)(Pe),n=e.loading,t=e.error,i=e.data,r=(0,a.$G)().t;return(0,p.jsxs)(Ne.Z,{divided:!0,relaxed:!0,children:[(0,p.jsxs)(Ne.Z.Item,{children:[(0,p.jsx)(Ne.Z.Icon,{name:"cogs"}),(0,p.jsxs)(Ne.Z.Content,{children:[n&&(0,p.jsx)(w.Z,{}),t&&(0,p.jsx)(g.Z,{message:t.message}),i&&(0,p.jsx)("span",{children:r("general.version",{version:i.version})})]})]}),(0,p.jsxs)(Ne.Z.Item,{children:[(0,p.jsx)(Ne.Z.Icon,{name:"puzzle piece"}),(0,p.jsxs)(Ne.Z.Content,{children:[(0,p.jsx)(Ne.Z.Header,{children:r("plugins.title")}),(0,p.jsx)(Ge,{})]})]})]})};var Fe=function(){var e,n=(0,a.$G)().t,t=(0,r.Z)(),h=(0,l.TH)(),f=(0,l.k6)(),x=[{key:"infos",menuItem:n("general.infos"),render:function(){return(0,p.jsx)(o.Z.Pane,{className:"grow",children:(0,p.jsx)(Te,{})},"infos")}}];t.permissions[d.Au.admin_access_permissions]&&x.push({key:"admin_permissions",menuItem:n("general.admin_permissions"),render:function(){return(0,p.jsx)(o.Z.Pane,{className:"grow flex-col height100",children:(0,p.jsx)(m,{})},"permissions")}}),t.permissions[d.Au.admin_edit_global_settings]&&x.push({key:"customization",menuItem:n("general.customization.title"),render:function(){return(0,p.jsx)(o.Z.Pane,{className:"grow flex-col height100",children:(0,p.jsx)(Ke,{})},"customization")}}),t.permissions[d.Au.admin_access_api_keys]&&x.push({key:"api_keys",menuItem:n("general.api_keys"),render:function(){return(0,p.jsx)(o.Z.Pane,{className:"grow flex-col",children:(0,p.jsx)(be,{})},"api_keys")}});var v=null===h||void 0===h||null===(e=h.hash)||void 0===e?void 0:e.replace("#",""),g=(0,s.useState)(Math.max(x.findIndex((function(e){return v===e.key})),0)),y=(0,i.Z)(g,2),_=y[0],Z=y[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(u.Z,{className:"no-grow",children:[(0,p.jsx)(c.Z,{name:"cogs"}),n("general.title")]}),(0,p.jsx)(o.Z,{activeIndex:_,onTabChange:function(e,n){n.panes&&void 0!==n.activeIndex&&(Z(Number(n.activeIndex.toString())),null===f||void 0===f||f.push("#".concat(n.panes[n.activeIndex].key)))},menu:{secondary:!0,pointing:!0},panes:x,className:"grow flex-col height100"})]})}},16058:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(2867),r=t(54681),s=t(70663),a=t(5918),l=t(57450),o=function(e){var n=e.confirmMessage,t=e.children,o=(0,s.$G)().t,u=(0,r.useState)(!1),c=(0,i.Z)(u,2),d=c[0],h=c[1],p=function(e){e.preventDefault(),e.stopPropagation(),h(!1)},f=r.cloneElement(t,{onClick:function(e){e.preventDefault(),e.stopPropagation(),h(!0)}});return(0,l.jsxs)("div",{onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[f,(0,l.jsx)(a.Z,{open:d,content:n,onCancel:p,onConfirm:function(n){p(n),e.action()},cancelButton:o("admin.cancel"),closeOnDocumentClick:!1,closeOnDimmerClick:!1})]})}},52788:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});t(54681);var i=t(92042),r=t(57450);var s=function(e){var n=e.disabled,t=e.onClick;return(0,r.jsx)(i.Z,{"aria-label":"delete",className:"delete",circular:!0,icon:"trash",disabled:n,onClick:t})}},36770:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(80688),r=t(74790),s=(t(54681),t(70663)),a=t(52987),l=t(43157),o=t(64449),u=t(45871),c=t(57450);var d=function(e){var n,t,d=e.label,h=e.value,p=e.onChange,f=e.disabled,m=(0,s.$G)().t,x=(0,i.useQuery)(r.c,{variables:{behavior:[a.mU.files]}}),v=x.loading,g=x.error,y=x.data;if(v)return(0,c.jsx)(o.Z,{});if(g)return(0,c.jsx)(l.Z,{message:g.message});var _=null!==(n=null===y||void 0===y||null===(t=y.libraries)||void 0===t?void 0:t.list)&&void 0!==n?n:[];return _.length?(0,c.jsx)(u.Z,{label:d,value:h,onChange:p,disabled:f,libraries:_.map((function(e){return e.id}))}):(0,c.jsx)(l.Z,{message:m("file_selector.no_files_libraries")})}},45871:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i,r=t(2867),s=t(71171),a=t(73377),l=t(19046),o=t(54681),u=t(70663),c=t(92042),d=t(55152),h=t(5918),p=t(37893),f=t(57450),m=p.ZP.div(i||(i=(0,s.Z)(["\n    display: flex;\n    height: 3rem;\n\n    && .buttons {\n        display: none;\n    }\n\n    &:hover .buttons {\n        display: block;\n    }\n\n    > * {\n        margin-right: 1em;\n    }\n"])));var x=function(e){var n=e.onChange,t=e.label,i=e.value,s=e.disabled,p=e.libraries,x=e.required,v=void 0!==x&&x,g=(0,u.$G)().t,y=o.useState(!1),_=(0,r.Z)(y,2),Z=_[0],j=_[1],b=o.useState(!1),$=(0,r.Z)(b,2),k=$[0],w=$[1],A=function(){return w(!1)},S=function(){j(!0)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("label",{children:t}),(0,f.jsxs)(m,{children:[i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{record:i}),!s&&(0,f.jsxs)(c.Z.Group,{basic:!0,children:[(0,f.jsx)(c.Z,{type:"button",icon:!0,onClick:S,title:"exchange","aria-label":"exchange",name:"exchange",children:(0,f.jsx)(d.Z,{name:"exchange"})}),!v&&(0,f.jsx)(c.Z,{type:"button",icon:!0,onClick:function(){return w(!0)},"aria-label":"delete",children:(0,f.jsx)(d.Z,{name:"close"})})]})]}),!i&&(0,f.jsxs)(c.Z,{type:"button",icon:!0,labelPosition:"left",onClick:S,children:[(0,f.jsx)(d.Z,{name:"search"}),g("record_selector.select")]})]}),Z&&(0,f.jsx)(a.Z,{library:p,open:Z,onClose:function(){return j(!1)},onSelect:function(e){n(e),j(!1)}}),k&&(0,f.jsx)(h.Z,{open:k,onCancel:A,onConfirm:function(){n(null),A()},content:g("record_selector.delete_confirm"),confirmButton:g("admin.submit"),cancelButton:g("admin.cancel")})]})}},26275:function(e){e.exports=function(){"use strict";var e=1e3,n=6e4,t=36e5,i="millisecond",r="second",s="minute",a="hour",l="day",o="week",u="month",c="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,n,t){var i=String(e);return!i||i.length>=n?e:""+Array(n+1-i.length).join(t)+e},g={s:v,z:function(e){var n=-e.utcOffset(),t=Math.abs(n),i=Math.floor(t/60),r=t%60;return(n<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(n,t){if(n.date()<t.date())return-e(t,n);var i=12*(t.year()-n.year())+(t.month()-n.month()),r=n.clone().add(i,u),s=t-r<0,a=n.clone().add(i+(s?-1:1),u);return+(-(i+(t-r)/(s?r-a:a-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:o,d:l,D:h,h:a,m:s,s:r,ms:i,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},y="en",_={};_[y]=x;var Z=function(e){return e instanceof k},j=function(e,n,t){var i;if(!e)return y;if("string"==typeof e)_[e]&&(i=e),n&&(_[e]=n,i=e);else{var r=e.name;_[r]=e,i=r}return!t&&i&&(y=i),i||!t&&y},b=function(e,n){if(Z(e))return e.clone();var t="object"==typeof n?n:{};return t.date=e,t.args=arguments,new k(t)},$=g;$.l=j,$.i=Z,$.w=function(e,n){return b(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var k=function(){function x(e){this.$L=j(e.locale,null,!0),this.parse(e)}var v=x.prototype;return v.parse=function(e){this.$d=function(e){var n=e.date,t=e.utc;if(null===n)return new Date(NaN);if($.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var i=n.match(f);if(i){var r=i[2]-1||0,s=(i[7]||"0").substring(0,3);return t?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,s)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return $},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,n){var t=b(e);return this.startOf(n)<=t&&t<=this.endOf(n)},v.isAfter=function(e,n){return b(e)<this.startOf(n)},v.isBefore=function(e,n){return this.endOf(n)<b(e)},v.$g=function(e,n,t){return $.u(e)?this[n]:this.set(t,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,n){var t=this,i=!!$.u(n)||n,c=$.p(e),p=function(e,n){var r=$.w(t.$u?Date.UTC(t.$y,n,e):new Date(t.$y,n,e),t);return i?r:r.endOf(l)},f=function(e,n){return $.w(t.toDate()[e].apply(t.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(n)),t)},m=this.$W,x=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return i?p(1,0):p(31,11);case u:return i?p(1,x):p(0,x+1);case o:var y=this.$locale().weekStart||0,_=(m<y?m+7:m)-y;return p(i?v-_:v+(6-_),x);case l:case h:return f(g+"Hours",0);case a:return f(g+"Minutes",1);case s:return f(g+"Seconds",2);case r:return f(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,n){var t,o=$.p(e),c="set"+(this.$u?"UTC":""),p=(t={},t[l]=c+"Date",t[h]=c+"Date",t[u]=c+"Month",t[d]=c+"FullYear",t[a]=c+"Hours",t[s]=c+"Minutes",t[r]=c+"Seconds",t[i]=c+"Milliseconds",t)[o],f=o===l?this.$D+(n-this.$W):n;if(o===u||o===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,n){return this.clone().$set(e,n)},v.get=function(e){return this[$.p(e)]()},v.add=function(i,c){var h,p=this;i=Number(i);var f=$.p(c),m=function(e){var n=b(p);return $.w(n.date(n.date()+Math.round(e*i)),p)};if(f===u)return this.set(u,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===l)return m(1);if(f===o)return m(7);var x=(h={},h[s]=n,h[a]=t,h[r]=e,h)[f]||1,v=this.$d.getTime()+i*x;return $.w(v,this)},v.subtract=function(e,n){return this.add(-1*e,n)},v.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||p;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=$.z(this),s=this.$H,a=this.$m,l=this.$M,o=t.weekdays,u=t.months,c=function(e,t,r,s){return e&&(e[t]||e(n,i))||r[t].substr(0,s)},d=function(e){return $.s(s%12||12,e,"0")},h=t.meridiem||function(e,n,t){var i=e<12?"AM":"PM";return t?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:$.s(l+1,2,"0"),MMM:c(t.monthsShort,l,u,3),MMMM:c(u,l),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:c(t.weekdaysMin,this.$W,o,2),ddd:c(t.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:$.s(s,2,"0"),h:d(1),hh:d(2),a:h(s,a,!0),A:h(s,a,!1),m:String(a),mm:$.s(a,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:r};return i.replace(m,(function(e,n){return n||f[e]||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,h,p){var f,m=$.p(h),x=b(i),v=(x.utcOffset()-this.utcOffset())*n,g=this-x,y=$.m(this,x);return y=(f={},f[d]=y/12,f[u]=y,f[c]=y/3,f[o]=(g-v)/6048e5,f[l]=(g-v)/864e5,f[a]=g/t,f[s]=g/n,f[r]=g/e,f)[m]||g,p?y:$.a(y)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),i=j(e,n,!0);return i&&(t.$L=i),t},v.clone=function(){return $.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},x}(),w=k.prototype;return b.prototype=w,[["$ms",i],["$s",r],["$m",s],["$H",a],["$W",l],["$M",u],["$y",d],["$D",h]].forEach((function(e){w[e[1]]=function(n){return this.$g(n,e[0],e[1])}})),b.extend=function(e,n){return e.$i||(e(n,k,b),e.$i=!0),b},b.locale=j,b.isDayjs=Z,b.unix=function(e){return b(1e3*e)},b.en=_[y],b.Ls=_,b.p={},b}()}}]);
//# sourceMappingURL=140.65b9e513.chunk.js.map